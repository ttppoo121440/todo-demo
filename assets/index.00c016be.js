import{d as t,r as a,c as e,w as n,v as s,a as l,b as o,o as i,e as d,f as r,F as c,g as u,h as p,t as m,i as v,j as f,k as D,l as y}from"./vendor.c5167a6b.js";var b=t({name:"Form",props:{data:{type:Array,required:!0}},setup(t,e){const n=a("");return{data:n,addHandler:()=>{n.value.trim()&&(t.data.push({id:Date.now(),title:n.value,isDone:!1}),n.value="")}}}});const h=l("button",{class:"btn",type:"submit"},"新增",-1);b.render=function(t,a,d,r,c,u){return i(),e("form",{class:"form",onSubmit:a[2]||(a[2]=o(((...a)=>t.addHandler&&t.addHandler(...a)),["prevent"]))},[n(l("input",{class:"input form-input","onUpdate:modelValue":a[1]||(a[1]=a=>t.data=a)},null,512),[[s,t.data]]),h],32)};var k=t({name:"ListItem",props:{data:{type:Array,required:!0},state:{type:String,required:!0}},setup(t){const e=a(""),n=a(0),s=()=>{e.value="",n.value=0},l=d((()=>t.data.filter((a=>"未完成"===t.state?!a.isDone:"已完成"===t.state?a.isDone:a))));return{cacheTitle:e,cacheId:n,delateData:a=>{const e=t.data.findIndex((t=>t.id===a));t.data.splice(e,1)},editTodo:(t,a)=>{e.value=a,n.value=t},cancelEdit:s,doneEdit:()=>{if(!e.value)return;const a=t.data.findIndex((t=>t.id===n.value));t.data[a].title=e.value,s()},filterData:l}}});k.render=function(t,a,o,d,v,f){return i(!0),e(c,null,r(t.filterData,((o,d)=>(i(),e("li",{class:"list-item",key:o.id},[t.cacheId===o.id?n((i(),e("input",{key:0,"onUpdate:modelValue":a[1]||(a[1]=a=>t.cacheTitle=a),onKeyup:[u((a=>t.doneEdit(o)),["enter"]),a[2]||(a[2]=u(((...a)=>t.cancelEdit&&t.cancelEdit(...a)),["esc"]))],class:"form-control",type:"text"},null,40,["onKeyup"])),[[s,t.cacheTitle]]):(i(),e(c,{key:1},[n(l("input",{type:"checkbox","onUpdate:modelValue":t=>o.isDone=t,id:o.id},null,8,["onUpdate:modelValue","id"]),[[p,o.isDone]]),l("label",{onDblclick:a=>t.editTodo(o.id,o.title),for:o.id,class:"list-text"},m(o.title),41,["onDblclick","for"])],64)),l("button",{class:"btn",onClick:a=>t.delateData(o.id)},"刪除",8,["onClick"])])))),128)};var T=t({name:"ListTotal",props:{data:{type:Array,required:!0}},setup:t=>({total:d((()=>t.data.length)),doneTotal:d((()=>t.data.filter((t=>t.isDone)).length))})});const L={class:"list-total"};T.render=function(t,a,n,s,l,o){return i(),e("div",L," 還有 "+m(t.total)+" 筆任務，已完成 "+m(t.doneTotal)+" 筆資料 ",1)};var g=t({name:"ListBottom",props:{data:{type:Array,required:!0},state:{type:String,required:!0}},setup:(t,a)=>({doneText:t=>{a.emit("update:state",t)},clearData:()=>{t.data.length=0,a.emit("update:state","全部")},btnGroop:v(["全部","未完成","已完成"])}),components:{ListTotal:T}});const x={class:"list-bottom"},I={key:0,class:"list-bottom-container"},q={class:"clearAll"};g.render=function(t,a,n,s,d,u){const p=D("ListTotal");return i(),e("div",x,[t.data.length?(i(),e("div",I,[l(p,{data:t.data},null,8,["data"]),l("div",q,[(i(!0),e(c,null,r(t.btnGroop,((a,n)=>(i(),e("a",{href:"#",class:["btn",{active:t.state===a}],onClick:o((e=>t.doneText(a)),["prevent"])},m(a),11,["onClick"])))),256)),l("a",{href:"#",class:"btn",onClick:a[1]||(a[1]=o(((...a)=>t.clearData&&t.clearData(...a)),["prevent"]))},"清除所有任務")])])):f("",!0)])};var A=t({name:"App",components:{Form:b,ListItem:k,ListBottom:g},setup(){const t=v([]);return{state:a("全部"),listData:t}}});const C={class:"container"},E=l("h1",null,"Todo List",-1),U={class:"todo"},F={class:"list"};A.render=function(t,a,n,s,o,d){const r=D("Form"),c=D("ListItem"),u=D("ListBottom");return i(),e("section",C,[E,l("div",U,[l(r,{data:t.listData},null,8,["data"]),l("ul",F,[l(c,{data:t.listData,state:t.state},null,8,["data","state"])]),l(u,{data:t.listData,state:t.state,"onUpdate:state":a[1]||(a[1]=a=>t.state=a)},null,8,["data","state"])])])},y(A).mount("#app");
